<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .error {
        color: red;
        font-weight: bold;
      }
      #name:focus {
        border: 1px solid blue;
      }
    </style>
    <!-- tags:
            input 
            textarea
            select
            button
            
                common form events:
                1. submit
                2. input
                3. change
                4. focus
                5. blur (unfocused)
        -->
  </head>
  <body>
    <h1>Form with Form Events</h1>

    <form id="simpleForm">
      <label for="name">Name: </label>
      <input type="text" id="name" name="name" placeholder="Enter your name" />
      <span id="nameError" class="error"></span>
      <br /><br />

      <label for="color">Favorite Color</label>
      <select name="color" id="color">
        <option value="">--Select--</option>
        <option value="red">Red</option>
        <option value="blue">Blue</option>
        <option value="green">Green</option>
      </select>
      <span id="colorError" class="error"></span>
      <br /><br />

      <button type="submit">Submit</button>

      <script>
        let simpleForm = document.getElementById("simpleForm");
        let nameInput = document.getElementById("name");
        let colorSelect = document.getElementById("color");
        let nameError = document.getElementById("nameError");
        let colorError = document.getElementById("colorError");

        // focus event on name input
        nameInput.addEventListener("focus", () => {
          nameError.textContent = "";
        });

        // blur event on name input
        nameInput.addEventListener("blur", () => {
          if (nameInput.value.trim() === "") {
            nameError.textContent = "Name is required!";
          }
        });

        // input event on name input
        nameInput.addEventListener("input", () => {
          console.log("user is typing: ", nameInput.value);
        });

        // change event on color select
        colorSelect.addEventListener("change", () => {
          colorError.textContent = "";
          console.log("Color selected: ", colorSelect.value);
        });

        // submit event on form
        simpleForm.addEventListener("submit", (e) => {
          e.preventDefault();

          // check if the name field is empty
          if (nameInput.value.trim() === "") {
            nameError.textContent = "Name is required";
            return;
          }

          if (colorSelect.value === "") {
            colorError.textContent = "Select a color!";
          }

          console.log("Form submitted!");
          console.log(nameInput.value);
          console.log(colorSelect.value);
        });
      </script>
    </form>
  </body>
</html>
